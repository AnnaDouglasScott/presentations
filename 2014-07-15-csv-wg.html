<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>CSV on the Web</title>

    <meta name="description" content="Description of your talk">
    <meta name="author" content="Your Name">

      <meta name="apple-mobile-web-app-capable" content="yes"/>
      <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

      <link rel="stylesheet" href="reveal.js/css/reveal.min.css">
      <link rel="stylesheet" href="reveal.js/css/theme/sky.css" id="theme">

      <!-- For syntax highlighting -->
      <link rel="stylesheet" href="reveal.js/css/zenburn.css">

      <!--[if lt IE 9]>
      <script src="lib/js/html5shiv.js"></script>
      <![endif]-->

  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
          
        <section id="titlepage">
          <h2>CSV on the Web</h2>
          <h3>What's Happening in the W3C Working Group</h3>
          <p><br></p>
          <p>Jeni Tennison Â· Open Data Institute<br>CSV on the Web W3C Working Group Co-chair</p>
          <a href="https://twitter.com/JeniT">@JeniT</a>
          <hr>
          <span style="font-size: medium">
            <p>You can access the slides at <a href="http://theodi.github.io/presentations/2014-07-15-csv-wg.html"> <code class="url">http://theodi.github.io/presentations/2014-07-15-csv-wg.html</code></a>.</p>
            <p>Use arrows to navigate. Press 'f' for fullscreen. Press the <code>Escape</code> key to see all slides.</p>
          </span>
        </section>

        <section>
          <section>
            <h2>Standardising CSV?!?</h2>
          </section>
          <section>
            <h3>CSV is Great</h3>
            <ul>
              <li>
                compact
                <ul><li>good for big and small data</li></ul>
              </li>
              <li>
                understandable by normal people (with the right tools)
                <ul>
                  <li>unlike every other data format</li>
                </ul>
              </li>
              <li>
                pervasive
                <ul>
                  <li>developer tooling</li>
                  <li>end user tooling</li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <h3>CSV is Crap</h3>
            <ul>
              <li>
                syntactic irregularities abound
                <ul>
                  <li>encoding / separator / header / escapes</li>
                </ul>
              </li>
              <li>
                because there is no standard
                <ul><li><a href="http://tools.ietf.org/html/rfc4180">RFC4180</a> is Informational &amp; largely ignored</li></ul>
              </li>
              <li class="fragment">so there's no validation</li>
              <li class="fragment">so everyone working with it suffers</li>
            </ul>
          </section>
          <section>
            <h3>CSV is Crap</h3>
            <ul>
              <li>
                extremely inexpressive
                <ul>
                  <li>context / metadata / notes / relationships</li>
                </ul>
              </li>
              <li class="fragment">
                so people use other mechanisms
                <ul>
                  <li>use Excel instead (multiple sheets)</li>
                  <li>have multiple 'header' lines</li>
                  <li>embed multiple tables in one CSV</li>
                  <li>package CSV up with documentation</li>
                </ul>
              </li>
              <li class="fragment">so everyone working with it suffers</li>
            </ul>
          </section>
          <section>
            <h3>So What?</h3>
            <ul>
              <li>>90% open data is tabular</li>
              <li class="fragment">2/3rds "CSV" files on data.gov.uk aren't machine readable</li>
              <li class="fragment">
                everyone can tailor a solution to read a CSV file
                <ul>
                  <li class="fragment">but it doesn't scale</li>
                  <li class="fragment">and it locks you in</li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <h3>What if CSV...</h3>
            <ul>
              <li>were a native browser format</li>
              <li class="fragment">contained links</li>
              <li class="fragment">could be linked to</li>
            </ul>
            <p class="fragment">what if CSV were a true web format?</p>
          </section>
          <section>
            <h3>Prior Art</h3>
          </section>
          <section>
            <h4>DSPL: Dataset Publishing Language</h4>
            <img src="2014-07-15-csv-wg/dspl.png">
          </section>
          <section>
            <h4>Tabular Data Packages</h4>
            <img src="2014-07-15-csv-wg/tabular-data-package.png">
          </section>
          <section>
            <h3>Capital-S Standards</h3>
            <ul>
              <li>
                more likely to be accepted by governments
                <ul>
                  <li>improve what government publishes</li>
                </ul>
              </li>
              <li class="fragment">
                more likely to get embedded in enterprise tooling
                <ul>
                  <li>improve what Excel produces</li>
                </ul>
              </li>
              <li class="fragment">
                more likely to check all the boxes
                <ul>
                  <li>multiple stakeholders</li>
                </ul>
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>W3C Working Group</h2>
          </section>
          <section>
            <h3>Working Group</h3>
            <ul>
              <li>started January 2014</li>
              <li>co-chaired by Jeni Tennison &amp; Dan Brickley</li>
              <li>28 members</li>
              <li>public mailing list at <a href="http://lists.w3.org/Archives/Public/public-csv-wg/">public-csv-wg@w3.org</a></li>
              <li>github repo at <a href="https://github.com/w3c/csvw">https://github.com/w3c/csvw</a></li>
            </ul>
          </section>
          <section>
            <h3>Charter</h3>
            <blockquote style="font-size: 0.8em; text-align: left; width: 100%; background-color: white;">
              The <b>mission</b> of the <a href="http://www.w3.org/2013/csvw/">CSV on the Web Working Group</a>, part of the <a href="http://www.w3.org/2013/data/">Data Activity</a>, is to provide technologies whereby data dependent applications on the Web can provide higher interoperability when working with datasets using the CSV (Comma-Separated Values) or similar formats. As well as single CSV files, the group will define mechanisms for interpreting a set of CSVs as relational data. This will include the definition of a vocabulary for describing tables expressed as CSV and locatable on the web, and the relationships between them.
            </blockquote>
            <p><a href="http://www.w3.org/2013/05/lcsv-charter">CSV on the Web WG Charter</a></p>
          </section>
          <section>
            <h3>Syntax?</h3>
            <ul>
              <li>out of scope of charter</li>
              <li>normative guidelines</li>
              <li>
                close working with IETF
                <ul>
                  <li>creation of a Standards Track RFC</li>
                </ul>
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>Use Cases &amp; Requirements</h2>
            <img src="2014-07-15-csv-wg/ucr.png">
          </section>
          <section>
            <h3>Use Cases</h3>
            <ul>
              <li>concrete examples including files</li>
              <li>some not CSV files</li>
              <li>some include mappings to other formats</li>
              <li>associated requirements</li>
            </ul>
          </section>
          <section>
            <h3>Requirements</h3>
            <ul>
              <li>parsing requirements</li>
              <li>
                application requirements
                <ul>
                  <li>validation</li>
                  <li>mapping to JSON, XML &amp; RDF</li>
                </ul>
              </li>
              <li>non-functional requirements</li>
              <li>
                data model requirements
                <ul>
                  <li>microsyntax &amp; repeated properties</li>
                  <li>multilingual content &amp; bidirectionality</li>
                  <li>mapping values to URLs</li>
                </ul>
              </li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>Model for Tabular Data &amp; Metadata on the Web</h2>
            <img src="2014-07-15-csv-wg/model.png">
          </section>
          <section>
            <h3>Core Model: Table</h3>
            <img src="2014-07-15-csv-wg/core-table.png">
          </section>
          <section>
            <h3>Core Model: Column</h3>
            <img src="2014-07-15-csv-wg/core-column.png">
          </section>
          <section>
            <h3>Core Model: Row</h3>
            <img src="2014-07-15-csv-wg/core-row.png">
          </section>
          <section>
            <h3>Core Model: Cell</h3>
            <img src="2014-07-15-csv-wg/core-cell.png">
          </section>
          <section>
            <h3>Annotated Model: Table</h3>
            <img src="2014-07-15-csv-wg/annotated-table.png">
          </section>
          <section>
            <h3>Annotated Model: Column</h3>
            <img src="2014-07-15-csv-wg/annotated-column.png">
          </section>
          <section>
            <h3>Annotated Model: Row</h3>
            <img src="2014-07-15-csv-wg/annotated-row.png">
          </section>
          <section>
            <h3>Annotated Model: Cell</h3>
            <img src="2014-07-15-csv-wg/annotated-cell.png">
          </section>
          <section>
            <h3>Grouped Tables</h3>
            <img src="2014-07-15-csv-wg/grouped-tables.png">
          </section>
          <section>
            <h3>Locating Metadata</h3>
            <ol>
              <li>embedded in the CSV
                <ul><li>only example is headers</li></ul>
              </li>
              <li>package
                <ul><li>eg a zip file</li></ul>
              </li>
              <li><code>Link</code> HTTP header
                <ul><li><code>Link: &lt;metadata.json&gt;; rel="describedby"</code></li></ul>
              </li>
              <li>URL hacking
                <ul><li>eg look for <code><i>filename</i>.csvm</code></li></ul>
              </li>
            </ol>
          </section>
        </section>

        <section>
          <section>
            <h2>Metadata Vocabulary for Tabular Data</h2>
            <img src="2014-07-15-csv-wg/metadata.png">
          </section>
          <section>
            <h3>Status</h3>
            <ul>
              <li>early draft
                <ul>
                  <li>focus on single CSV file</li>
                </ul>
              </li>
              <li>based on Tabular Data Package</li>
              <li>compatible with JSON-LD</li>
            </ul>
          </section>
          <section>
            <h3>Example</h3>
            <pre>
{
  "@id": "site22580943-2013-dec.csv",
  "title": "Weather observations for site 22580943 (Exeter Airport, UK)",
  "modified": "2013-12-31",
  "license": "https://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/",
  "schema": {
    "columns": [{
      "name": "air-temp",
      "title": {
        "en": "Air temperature (Cel)",
        "fr": "La tempÃ©rature d'air (C)"
      },
      "description": "Air temperature quantity value expressed in Celsius.",
      "type": "double",
      "required": true
    }, {
      ...
    }]
  }
}</pre>
          </section>
          <section>
            <h3>Metadata and Schemas</h3>
            <img src="2014-07-15-csv-wg/metadata-schemas.png">
          </section>
          <section>
            <h3>Annotations</h3>
            <ul>
              <li>about tables, columns, rows &amp; cells</li>
              <li>reusing vocabularies like Dublin Core / DCAT</li>
              <li>using link relations</li>
              <li>facilitates searches for data</li>
            </ul>
          </section>
          <section>
            <h3>Schemas</h3>
            <ul>
              <li>common description for multiple CSVs</li>
              <li>
                based on position not name of column
                <ul>
                  <li>supports human readable column names</li>
                  <li>supports multilingual CSV schemas</li>
                </ul>
              </li>
            </ul>
          </section>
          <section>
            <h3>Data Types &amp; Formats</h3>
            <ul>
              <li>based on XML Schema types</li>
              <li>string value vs semantic value</li>
              <li>constrain format of string values</li>
              <li>constrain magnitude of (semantic) values</li>
              <li>some concerns re implementation complexity</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>Mappings</h2>
          </section>
          <section>
            <h3>Status</h3>
            <ul>
              <li>early stages</li>
              <li>chartered to map to XML, JSON &amp; RDF</li>
              <li>use cases somewhat lacking</li>
              <li>mapping into databases? R?</li>
            </ul>
          </section>
          <section>
            <h3>Current Approach</h3>
            <ul>
              <li>mappings are complex</li>
              <li>looking at templating language</li>
              <li>describe default mapping as a template</li>
            </ul>
            <pre>
&lt;site/22580943/date-time/{datetime:/^(\d{4})-(\d{2})-(\d{2}T\d{2}):(\d{2}):(\d{2}Z)$/}&gt;
    a ssn:Observation ;
    ssn:observationSamplingTime 
      [ time:inXSDDateTime "{datetime}"^^xsd:dateTime ] ;
    ssn:observationResult [
        a ssn:SensorOutput ;
        def-op:airTemperature_C 
          [ qudt:numericValue "{air-temp}"^^xsd:double ] ;
        def-op:dewPointTemperature_C 
          [ qudt:numericValue "{dew-point-temp}"^^xsd:double ] 
    ] .
            </pre>
          </section>
        </section>

        <section>
          <section>
            <h2>Help Us</h2>
            <ul>
              <li>number of issues in the specs</li>
              <li>templating language?</li>
              <li>mapping to JSON?</li>
              <li>mapping to XML?</li>
              <li>loading into relational databases?</li>
              <li>loading into other tools eg R?</li>
            </ul>
          </section>
          <section>
            <h3>How?</h3>
            <ul>
              <li>follow &amp; contribute to mailing list<br> <a href="http://lists.w3.org/Archives/Public/public-csv-wg/">public-csv-wg@w3.org</a></li>
              <li>raise issues &amp; open pull requests<br> <a href="https://github.com/w3c/csvw">https://github.com/w3c/csvw</a></li>
              <li>join the Working Group!</li>
            </ul>
          </section>
        </section>

        <section>
          <h3>Questions?</h3><br>
          <p>Jeni Tennison Â· Open Data Institute</p>
          <a href="mailto:jeni@theodi.org">jeni@theodi.org</a>
          <a href="https://twitter.com/JeniT">@JeniT</a>
          <hr>
          <p style="font-size: 0.7em">Slides at<br> <a href="http://theodi.github.io/presentations/2014-07-15-csv-wg.html"> <code class="url">http://theodi.github.io/presentations/2014-07-15-csv-wg.html</code></a></p>
        </section>
        </div>
        
        <div id="brand">
        <a class="image" href="http://theodi.org"><img height="40" style="position:fixed; left:10px; bottom:50px; z-index:30;" src="brand/odi_logo.svg" alt="ODI"></a>
        <br>
        <a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/"><img width="97" height="34" style="position:fixed; left:10px; bottom:10px; z-index:30;" src="brand/licence.png" alt="Creative Commons"></a>
        </div>
    </div>

    <script src="reveal.js/js/head.min.js"></script>  
    <script src="reveal.js/js/reveal.min.js"></script>

    <script>

        Reveal.initialize({
            controls: false,
            progress: true,
            history: true,
            center: true,

            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

            dependencies: [
            ]
        });

    </script>


    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-34573394-10']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>
</html>
